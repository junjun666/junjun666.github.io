<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="John Doe"><link rel="icon" href="/hexo.png"><title>Hexo</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="Hexo" href="/atom.xml"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Hexo</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/junjun666/junjun666.github.io">Github</a></li><li><a href="/about/">About</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/hexo.png" class="avatar-img"></a></div></div></div></nav><header class="header-section"><div class="intro-header no-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>http知识点小总结</h1><p class="post-meta">Posted on Feb 14 2019</p></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><h3 id="1-浏览器输入url按回车背后经历了哪些？"><a href="#1-浏览器输入url按回车背后经历了哪些？" class="headerlink" title="1)浏览器输入url按回车背后经历了哪些？"></a>1)浏览器输入url按回车背后经历了哪些？</h3><p>1、首先，在浏览器地址栏中输入url，先解析url，检测url地址是否合法<br>2、浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容。若没有，则跳到第三步操作。<br>浏览器缓存：浏览器会记录DNS一段时间，因此，只是第一个地方解析DNS请求；<br>操作系统缓存：如果在浏览器缓存中不包含这个记录，则会使系统调用操作系统，获取操作系统的记录(保存最近的DNS查询缓存)；<br>路由器缓存：如果上述两个步骤均不能成功获取DNS记录，继续搜索路由器缓存；<br>ISP缓存：若上述均失败，继续向ISP搜索。<br>3、在发送http请求前，需要域名解析(DNS解析)，解析获取相应的IP地址。<br>4、等待TCP队列，Chrome 有个机制，同一个域名同时最多只能建立 6 个 TCP 连接，如果在同一个域名下同时有 10 个请求发生那么其中 4 个请求会进入排队等待状态，直至进行中的请求完成。如果当前请求数量少于 6，会直接进入下一步，建立 TCP连接。<br>5、浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。<br>6、握手成功后，浏览器向服务器发送http请求，请求数据包。首先浏览器会向服务器发送请求行(请求方法,请求URI和http版本协议)，之后还要以请求头形式发送其他一些信息，把浏览器的一些基础信息告诉服务器。比如包含了浏览器所使用的操作系统、浏览器内核等信息，以及当前请求的域名信息、浏览器端的 Cookie 信息，等等。（对于请求体的数据，一般通post方法发送给服务器）<br>7、服务器处理收到的请求，将数据返回至浏览器。首先服务器会返回响应行，包括协议版本和状态码。之后服务器也会随同响应向浏览器发送响应头。响应头包含了服务器自身的一些信息，比如服务器生成返回数据的时间、返回的数据类型（JSON、HTML、流媒体等类型），以及服务器要在客户端保存的Cookie 等信息。服务器就可以继续发送响应体的数据，通常，响应体就包含了 HTML的实际内容。<br>9、浏览器收到HTTP响应<br>10、浏览器解码响应，如果响应可以缓存，则存入缓存。<br>11、 浏览器发送请求获取嵌入在HTML中的资源（html，css，javascript，图片，音乐······），或者可以说是浏览器解析HTML代码，对于未知类型，会弹出对话框。<br>12、 浏览器发送异步请求。<br>13、页面全部渲染结束。</p>
<h3 id="2-http和https区别"><a href="#2-http和https区别" class="headerlink" title="2)http和https区别"></a>2)http和https区别</h3><p>HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。</p>
<p>HTTPS和HTTP的区别主要如下：</p>
<p>总的来说： HTTPS=SSL+HTTP</p>
<p>1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。</p>
<p>2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。</p>
<p>3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。<br>（这个只是默认端口不一样，实际上端口是可以改的）</p>
<p>4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</p>
<h3 id="3-HTTP版本区别"><a href="#3-HTTP版本区别" class="headerlink" title="3)HTTP版本区别"></a>3)HTTP版本区别</h3><h4 id="HTTP-1-0与HTTP-1-1版本区别"><a href="#HTTP-1-0与HTTP-1-1版本区别" class="headerlink" title="HTTP/1.0与HTTP/1.1版本区别:"></a>HTTP/1.0与HTTP/1.1版本区别:</h4><p>主要体现在长连接与部分发送上面</p>
<p>1)在 HTTP/1.0 时代，每一个请求都会重新建立一个 TCP 连接，一旦响应返回，就关闭连接，这种就是短连接，HTTP/1.1版本就支持Keep-Alive 模式，实现长连接了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">使用HTTP建立长连接</span><br><span class="line">当需要建立 HTTP 长连接时，HTTP 请求头将包含如下内容：</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">如果服务端同意建立长连接，HTTP 响应头也将包含如下内容：</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">当需要关闭连接时，HTTP 头中会包含如下内容：</span><br><span class="line">Connection: Close</span><br></pre></td></tr></table></figure></p>
<p>2)HTTP 1.1支持只发送header信息(不带任何body信息)，如果服务器认为客户端有权限请求服务器，则返回100，否则返回401。客户端如果接受到100，才开始把请求body发送到服务器。这样当服务器返回401的时候，客户端就可以不用发送请求body了，节约了带宽。</p>
<h4 id="HTTP-1-1-与HTTP-2-0版本区别"><a href="#HTTP-1-1-与HTTP-2-0版本区别" class="headerlink" title="HTTP/1.1 与HTTP/2.0版本区别"></a>HTTP/1.1 与HTTP/2.0版本区别</h4><p>主要体现在多路复用上面。</p>
<p>1)HTTP2.0使用了多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。当然HTTP1.1也可以多建立几个TCP连接(一般情况下一个域名允许建立6个TCP连接)，来支持处理更多并发的请求，但是创建TCP连接本身也是有开销的。<br>2)支持header数据压缩<br>3)支持服务器推送</p>
<h3 id="4-什么是Http协议无状态协议-怎么解决Http协议无状态协议"><a href="#4-什么是Http协议无状态协议-怎么解决Http协议无状态协议" class="headerlink" title="4)什么是Http协议无状态协议?怎么解决Http协议无状态协议?"></a>4)什么是Http协议无状态协议?怎么解决Http协议无状态协议?</h3><p>(1)、无状态协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息<br>(2)、无状态协议解决办法： 通过1、Cookie 2、通过Session会话保存。</p>
<h3 id="5-Http协议首部字段"><a href="#5-Http协议首部字段" class="headerlink" title="5)Http协议首部字段"></a>5)Http协议首部字段</h3><p>a、通用首部字段（请求报文与响应报文都会使用的首部字段）<br>Date：创建报文时间<br>Connection：连接的管理<br>Cache-Control：缓存的控制<br>Transfer-Encoding：报文主体的传输编码方式<br>b、请求专用首部字段（请求报文会使用的首部字段）<br>Host + 地址：客户端告诉服务器此次请求地址<br>Accept：可处理的媒体类型(告诉服务器自己可以接收的响应消息类型)<br>Accept-Charset：可接收的字符集<br>Accept-Encoding：可接受的内容编码<br>Accept-Language：可接受的自然语言<br>c、响应专用首部字段（响应报文会使用的首部字段）<br>Accept-Ranges：可接受的字节范围<br>Location：令客户端重新定向到的URI<br>Server：HTTP服务器的安装信息<br>d、实体首部字段（请求报文与响应报文的的实体部分使用的首部字段）<br>Allow：资源可支持的HTTP方法<br>Content-Type：实体主类的类型<br>Content-Encoding：实体主体适用的编码方式<br>Content-Language：实体主体的自然语言<br>Content-Length：实体主体的的字节数<br>Content-Range：实体主体的位置范围，一般用于发出部分请求时使用</p>
<h3 id="6-Cookie-localStorage介绍-以及localStorage的优缺点。"><a href="#6-Cookie-localStorage介绍-以及localStorage的优缺点。" class="headerlink" title="6)Cookie,localStorage介绍,以及localStorage的优缺点。"></a>6)Cookie,localStorage介绍,以及localStorage的优缺点。</h3><p>Cookie是可以覆盖的，如果重复写入同名的Cookie，那么将会覆盖之前的Cookie<br>如果要删除某个Cookie，只需要新建一个同名的Cookie，并将maxAge设置为0，并添加到response中覆盖原来的Cookie。注意是0而不是负数。负数代表其他的意义。</p>
<p>localStorage存储在一个对象中. 有键值对<br>什么是localStorage,在HTML5中，新加入了一个localStorage特性，这个特性主要是用来作为本地存储来使用的，解决了cookie存储空间不足的问题(cookie中每条cookie的存储空间为4k)，localStorage中一般浏览器支持的是5M大小，这个在不同的浏览器中localStorage会有所不同。</p>
<p>localStorage的优势<br>1、localStorage拓展了cookie的4K限制<br>2、localStorage会可以将第一次请求的数据直接存储到本地，这个相当于一个5M大小的针对于前端页面的数据库，相比于cookie可以节约带宽，但是这个却是只有在高版本的浏览器中才支持的<br>localStorage的局限<br>1、浏览器的大小不统一，并且在IE8以上的IE版本才支持localStorage这个属性<br>2、目前所有的浏览器中都会把localStorage的值类型限定为string类型，这个在对我们日常比较常见的JSON对象类型需要一些转换<br>3、localStorage在浏览器的隐私模式下面是不可读取的<br>4、localStorage本质上是对字符串的读取，如果存储内容多的话会消耗内存空间，会导致页面变卡<br>5、localStorage不能被爬虫抓取到<br>localStorage与sessionStorage的唯一一点区别就是localStorage属于永久性存储，而sessionStorage属于当会话结束的时候，sessionStorage中的键值对会被清空</p>
<h3 id="7-Http优化和Http协议有哪些特征"><a href="#7-Http优化和Http协议有哪些特征" class="headerlink" title="7)Http优化和Http协议有哪些特征?"></a>7)Http优化和Http协议有哪些特征?</h3><p>(1)利用负载均衡优化和加速HTTP应用<br>利用HTTP Cache来优化网站<br>(2)1、支持客户/服务器模式；2、简单快速；3、灵活；4、无连接；5、无状态；</p>
</article><ul class="pager blog-pager"><li class="previous"><a href="/2019/05/17/gulp/" data-toggle="tooltip" data-placement="top" title="gulp4 用法">← Previous Post</a></li><li class="next"><a href="/2019/02/06/php/" data-toggle="tooltip" data-placement="top" title="php基础语法及访问数据库">Next Post →</a></li></ul><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="//img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"> </script><script>var cloudTieConfig = {
  url: document.location.href, 
  sourceId: "",
  productKey: "64d7f0abf9224be3bfdcc6cfb9b83fcf",
  target: "cloud-tie-wrapper"
};</script></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="" title="Weibo"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-weibo"></i></span></a></li><li><a href="https://github.com/junjun666" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-rss"></i></span></a></li><li><a href="" title="Twitter"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-twitter"></i></span></a></li><li><a href="" title="Email me"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-envelope"></i></span></a></li></ul><p class="copyright text-muted">© John Doe • 2019 • <a href="mailto:undefined"></a>
</p><p class="theme-by text-muted">Theme by
<a href="https://github.com/twoyao/beautiful-hexo">beautiful-hexo</a></p></div></div></div></footer><script src="//cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script><script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>